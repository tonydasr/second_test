<!DOCTYPE html>
<html>
{% load static %}

<head>
  <title>Send Email to Users</title>
  <script src="https://smtpjs.com/v3/smtp.js"></script>
  <script>
    function sendEmail() {
      const email = document.getElementById("email-textbox").value;
      const subject = "Subject of the Email";
      const body = document.getElementById("email-body").value;

      Email.send({
        SecureToken: "51c667c6-f76b-44ca-ad41-ef8f6b8305d6",
        To: email,
        From: "donlon749@gmail.com",
        Subject: subject,
        Body: body
      });
    }
  </script>
</head>
<body>
  <h1>Send Email to Users</h1>
  <form method="POST" id="email-form">
    {% csrf_token %}
    <label for="user-dropdown">Select a user:</label>
    <select id="user-dropdown" name="user-dropdown">
      {% for user in users %}
        <option value="{{ user.id }}">{{ user.name }}</option>
      {% endfor %}
    </select>
    <br><br>
    <label for="model-dropdown">Select a model:</label>
    <select id="model-dropdown" name="model-dropdown">
      <option value="Deposit">Deposit</option>
      <option value="Withdrawal">Withdrawal</option>
      <option value="Interest">Interest</option>
      <option value="LoanRequest">Loan Request</option>
      <option value="Payment">Payment</option>
      <option value="Client_USDTerc20">Client USDTerc20</option>
      <option value="Client_Trc20">Client Trc20</option>
      <option value="Client_Bitcoin">Client Bitcoin</option>
      <option value="Client_Ethereum">Client Ethereum</option>
    </select>
    <br><br>
    <label for="post-dropdown">Select a post:</label>
    <select id="post-dropdown" name="post-dropdown"></select>
    <br><br>
    <label for="email-textbox">Email:</label>
    <input type="text" id="email-textbox" name="email-textbox">
    <br><br>
    <label for="email-body">Email Body:</label>
    <textarea id="email-body" name="email-body"></textarea>
    <br><br>
    <input type="submit" value="Send Email">
  </form>

  <script>
      const postDropdown = document.getElementById("post-dropdown");
      const modelDropdown = document.getElementById("model-dropdown");

      modelDropdown.addEventListener("change", function() {
          const selectedModel = this.value;
          let options = "";

          switch(selectedModel) {
              case "Deposit":
                  options += "<option value='1'>Deposit 1</option>";
                  options += "<option value='2'>Deposit 2</option>";
                  options += "<option value='3'>Deposit 3</option>";
                  break;
              case "Withdrawal":
                  options += "<option value='4'>Withdrawal 1</option>";
                  options += "<option value='5'>Withdrawal 2</option>";
                  options += "<option value='6'>Withdrawal 3</option>";
                  break;
              case "Interest":
                  options += "<option value='7'>Interest 1</option>";
                  options += "<option value='8'>Interest 2</option>";
                  options += "<option value='9'>Interest 3</option>";
                  break;
              case "LoanRequest":
                  options += "<option value='10'>Loan Request 1</option>";
                  options += "<option value='11'>Loan Request 2</option>";
                  options += "<option value='12'>Loan Request 3</option>";
                  break;
              case "Payment":
                  options += "<option value='13'>Payment 1</option>";
                  options += "<option value='14'>Payment 2</option>";
                  options += "<option value='15'>Payment 3</option>";
                  break;
              case "Client_USDTerc20":
                  options += "<option value='16'>Client USDTerc20 1</option>";
                  options += "<option value='17'>Client USDTerc20 2</option>";
                  options += "<option value='18'>Client USDTerc20 3</option>";
                  break;
              case "Client_Trc20":
                  options += "<option value='19'>Client Trc20 1</option>";
                  options += "<option value='20'>Client Trc20 2</option>";
                  options += "<option value='21'>Client Trc20 3</option>";
                  break;
              case "Client_Bitcoin":
                  options += "<option value='22'>Client Bitcoin 1</option>";
                  options += "<option value='23'>Client Bitcoin 2</option>";
                  options += "<option value='24'>Client Bitcoin 3</option>";
                  break;
              case "Client_Ethereum":
                  options += "<option value='25'>Client Ethereum 1</option>";
                  options += "<option value='26'>Client Ethereum 2</option>";
                  options += "<option value='27'>Client Ethereum 3</option>";
                  break;
          }

          postDropdown.innerHTML = options;
      });
  </script>
        <script type="text/javascript">
            function googleTranslateElementInit2() {
            new google.translate.TranslateElement({pageLanguage: 'en',autoDisplay: false}, 'google_translate_element2');}
        </script>
        <script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit2"></script>
        <script type="text/javascript">
            eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('6 7(a,b){n{4(2.9){3 c=2.9("o");c.p(b,f,f);a.q(c)}g{3 c=2.r();a.s(\'t\'+b,c)}}u(e){}}6 h(a){4(a.8)a=a.8;4(a==\'\')v;3 b=a.w(\'|\')[1];3 c;3 d=2.x(\'y\');z(3 i=0;i<d.5;i++)4(d[i].A==\'B-C-D\')c=d[i];4(2.j(\'k\')==E||2.j(\'k\').l.5==0||c.5==0||c.l.5==0){F(6(){h(a)},G)}g{c.8=b;7(c,\'m\');7(c,\'m\')}}',43,43,'||document|var|if|length|function|GTranslateFireEvent|value|createEvent||||||true|else|doGTranslate||getElementById|google_translate_element2|innerHTML|change|try|HTMLEvents|initEvent|dispatchEvent|createEventObject|fireEvent|on|catch|return|split|getElementsByTagName|select|for|className|goog|te|combo|null|setTimeout|500'.split('|'),0,{}))
            $(function(){
                        $('.selectpicker').selectpicker();
                    });
        </script>
</body>
</html>